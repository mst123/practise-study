<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    const superagent = require('superagent');
    const NUM_RETRIES = 3;

    async function test() {
      let i;
      for (i = 0; i < NUM_RETRIES; ++i) {
        try {
          await superagent.get('http://google.com/this-throws-an-error');
          break;
        } catch (err) { }
      }
      console.log(i); // 3
    }

    test();
  </script>
</body>

</html>